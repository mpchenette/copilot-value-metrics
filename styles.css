:root {
  --bg: #0f172a; /* slate-900 */
  --panel: #111827; /* gray-900 */
  --text: #e5e7eb; /* gray-200 */
  --muted: #9ca3af; /* gray-400 */
  --accent: #22d3ee; /* cyan-400 */
  --accent-2: #38bdf8; /* sky-400 */
  --focus: #f59e0b; /* amber-500 */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 70% -20%, #1f2937 0%, var(--bg) 60%);
  color: var(--text);
  display: grid;
  grid-template-rows: auto 1fr;
}

.app-header {
  text-align: center;
  padding: 24px 16px 8px;
}
.app-header h1 { margin: 0 0 6px; font-weight: 700; }
.app-header .sub { margin: 0; color: var(--muted); }

.app-main {
  display: grid;
  grid-template-rows: 1fr auto;
  gap: 28px;
  place-items: center;
  padding: 16px;
}

.selector {
  display: grid;
  place-items: center;
  width: 100%;
}

/* Space details just under the wheels when nested inside .selector */
.selector .details { margin-top: 16px; }

.wheels {
  display: flex;
  gap: 32px; /* more breathing room between columns */
  padding: 28px; /* slightly larger padding */
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.2));
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.06);
  align-items: start;
  /* Fix panel height so it doesn't shift during scroll */
  min-height: 300px;
}

/* Inline sum display to the right of the wheels */
.wheels .sum {
  display: grid;
  place-items: center;
  padding: 0 12px;
  font-size: 28px;
  font-weight: 700;
  color: var(--text);
  white-space: nowrap;
  font-variant-numeric: tabular-nums;
  /* Fix width to avoid panel width changes as total grows */
  width: 80px; /* fits up to 3 digits comfortably */
  /* Center vertically within the wheels container */
  align-self: center;
}

.wheel {
  display: grid;
  grid-template-rows: auto 1fr auto;
  align-items: center;
  width: 76px;
  height: 220px;
  background: var(--panel);
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.06);
}

/* Wider wheel for words */
.wheel.word { width: 180px; }

/* Visually disable buttons on static number wheels */
/* Static number wheels: just the track (labels live outside) */
.wheel.static { grid-template-rows: 1fr; }
.wheel.static .btn { display: none; }

/* Header label for number wheels */
.wheel-label {
  font-size: 12px;
  color: var(--muted);
  text-align: center;
  padding: 6px 4px 0;
  user-select: none;
  min-height: 16px; /* ensure consistent spacer height */
}

/* Column wrapper to place label above wheel */
.wheel-col {
  display: grid;
  grid-template-rows: auto 1fr;
  justify-items: center;
  row-gap: 10px; /* space between label and wheel */
}
/* Prevent manual scrolling on static number wheels */
.wheel.static .track { touch-action: none; }

.wheel:focus-within { outline: 2px solid var(--focus); outline-offset: 2px; }

.wheel .btn {
  appearance: none;
  border: none;
  background: transparent;
  color: var(--muted);
  padding: 8px 0;
  cursor: pointer;
  transition: color 120ms ease;
}
.wheel .btn:hover { color: var(--text); }
.wheel .btn:active { color: var(--accent); }
.wheel .btn:focus { outline: none; }

.track {
  position: relative;
  overflow-y: auto;
  overscroll-behavior: contain;
  scroll-snap-type: y mandatory;
  scrollbar-width: none;
  -ms-overflow-style: none;
  /* Important: inside a CSS grid item, allow the track
     to shrink and actually scroll. Without min-height: 0,
     many browsers size the grid child to its content and
     wheel/trackpad scrolling won't work. */
  min-height: 0;
  height: 100%;
  /* Better touch/trackpad behavior */
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
}
.track::-webkit-scrollbar { display: none; }

/* Soft fade-out at the top/bottom of number columns */
.wheel:not(.word) .track {
  /* Stronger fade: wider transparent edges, tighter visible band */
  /* Safari/WebKit */
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,0) 18%,
    rgba(0,0,0,1) 35%,
    rgba(0,0,0,1) 65%,
    rgba(0,0,0,0) 82%,
    rgba(0,0,0,0) 100%
  );
  -webkit-mask-size: 100% 100%;
  -webkit-mask-repeat: no-repeat;
  /* Other modern browsers */
  mask-image: linear-gradient(
    to bottom,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,0) 18%,
    rgba(0,0,0,1) 35%,
    rgba(0,0,0,1) 65%,
    rgba(0,0,0,0) 82%,
    rgba(0,0,0,0) 100%
  );
  mask-size: 100% 100%;
  mask-repeat: no-repeat;
}

.digit {
  height: 60px;
  display: grid;
  place-items: center;
  font-size: 32px;
  font-variant-numeric: tabular-nums;
  scroll-snap-align: center;
  color: var(--muted);
  transition: opacity 160ms ease, color 160ms ease;
}

/* Smaller font for word items */
.digit.word { font-size: 18px; padding: 0 10px; text-align: center; }

.digit[aria-selected="true"] { color: var(--accent-2); text-shadow: 0 0 16px rgba(56,189,248,0.35); }

/* Dim unselected digits in number wheels (not the word wheel) */
.wheel:not(.word) .digit { opacity: 0.35; }
.wheel:not(.word) .digit[aria-selected="true"] { opacity: 1; }

/* (readout removed) */

/* Details panel */
.details {
  width: 100%;
  max-width: 920px;
  display: grid;
  gap: 12px;
}
.details .details-header {
  text-align: center;
  color: var(--muted);
  font-size: 14px;
}
.details-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}
.detail-item {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
  align-items: start;
  padding: 12px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 10px;
}
.detail-badge {
  display: grid;
  place-items: center;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: linear-gradient(180deg, rgba(56,189,248,0.25), rgba(56,189,248,0.05));
  color: var(--accent-2);
  font-weight: 700;
  font-size: 20px;
  font-variant-numeric: tabular-nums;
}
.detail-content {
  display: grid;
  gap: 4px;
}
.detail-title {
  font-size: 13px;
  color: var(--muted);
}
.detail-text {
  font-size: 14px;
  line-height: 1.25rem;
}

@media (max-width: 520px) {
  .wheel { width: 64px; height: 200px; }
  .digit { height: 52px; font-size: 28px; }
  .details-grid { grid-template-columns: 1fr; }
}
